let currentStream;
let useFrontCamera = true;

async function toggleCamera() {
  useFrontCamera = !useFrontCamera;
  const constraints = {
    video: { facingMode: useFrontCamera ? "user" : "environment" }
  };
  
  if (currentStream) {
    currentStream.getTracks().forEach(track => track.stop());
  }
  
  currentStream = await navigator.mediaDevices.getUserMedia(constraints);
  document.getElementById('videoPreview').srcObject = currentStream;
}
